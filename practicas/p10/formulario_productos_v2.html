<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Productos</title>
    <script>
        function validarFormulario() {
            var nombre = document.getElementById("nombre").value;
            var marca = document.getElementById("marca").value;
            var modelo = document.getElementById("modelo").value;
            var precio = document.getElementById("precio").value;
            var unidades = document.getElementById("unidades").value;
            var imagen = document.getElementById("imagen").value;

            // Validar campos vacíos
            if (nombre === "" || marca === "" || modelo === "" || precio === "" || unidades === "") {
                alert("Por favor, completa todos los campos.");
                return false;
            }

            // Validar precio positivo
            if (precio <= 0) {
                alert("El precio debe ser un número positivo.");
                return false;
            }

            // Validar que el archivo de imagen sea png o jpg
            var extension = imagen.substring(imagen.lastIndexOf('.') + 1).toLowerCase();
            if (extension !== "png" && extension !== "jpg" && extension !== "jpeg") {
                alert("Solo se permiten archivos de imagen png o jpg.");
                return false;
            }

            // Si todo es válido
            return true;
        }
    </script>
</head>
<body>
    <h1 style="text-align: center;">Registro de Nuevos Productos</h1>
    <form action="set_producto_v2.php" method="POST" enctype="multipart/form-data" onsubmit="return validarFormulario();">
        <fieldset>
            <legend>Datos del Producto</legend>

            <label for="nombre">Nombre:</label> <br>
            <input type="text" id="nombre" name="nombre"> <br><br>

            <label for="marca">Marca:</label> <br>
            <input type="text" id="marca" name="marca"> <br><br>

            <label for="modelo">Modelo:</label> <br>
            <input type="text" id="modelo" name="modelo"> <br><br>

            <label for="precio">Precio:</label> <br>
            <input type="number" id="precio" name="precio" step="0.01"> <br><br>

            <label for="detalles">Detalles:</label> <br>
            <textarea id="detalles" name="detalles" rows="4"></textarea> <br><br>

            <label for="unidades">Unidades:</label> <br>
            <input type="number" id="unidades" name="unidades"> <br><br>

            <label for="imagen">Imagen (png/jpg):</label> <br>
            <input type="file" id="imagen" name="imagen" accept="image/png, image/jpeg"> <br><br>

            <button type="submit">Registrar Producto</button>
        </fieldset>
    </form>
</body>
</html>
